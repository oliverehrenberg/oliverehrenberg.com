# Set default homepage
DirectoryIndex index.html

# Aktivera Rewrite Engine
RewriteEngine On

# 1. Omdirigera från HTTP till HTTPS
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]

# 2. Ta bort /index eller /index.html från URL
RewriteCond %{THE_REQUEST} /index(\.html)? [NC]
RewriteRule ^index(\.html)?$ / [R=301,L]

# 3. Serve file utan .html
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.*)$ $1.html [L]

# 4. Omdirigera .html-URL:er till rena URL:er
RewriteCond %{THE_REQUEST} "^[^ ]* .*?\.html[? ]"
RewriteRule ^(.*)\.html$ /$1 [R=301,L]

# 5. Omdirigera alla 404-fel till anpassad 404-sida
ErrorDocument 404 /404.html
